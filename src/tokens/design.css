/* ============================================================
   Design Tokens — Lafayette Square
   Single source of truth for all visual values.
   Dark theme is default; .light on <html> for light theme.
   .accessible on <html> for high-contrast mode.
   ============================================================ */

/* ---------- Dark theme (default — cinematic) ---------- */
:root {
  /* Surfaces */
  --surface:                   rgba(0, 0, 0, 0.90);
  --surface-glass:             rgba(0, 0, 0, 0.40);
  --surface-dim:               rgba(0, 0, 0, 0.60);
  --surface-container:         rgba(255, 255, 255, 0.05);
  --surface-container-high:    rgba(255, 255, 255, 0.10);
  --surface-container-highest: rgba(255, 255, 255, 0.12);
  --surface-scrim:             rgba(0, 0, 0, 0.60);

  /* On-surface (text / icons) — cinematic opacity gradient */
  --on-surface:          rgba(255, 255, 255, 0.87);
  --on-surface-medium:   rgba(255, 255, 255, 0.78);
  --on-surface-variant:  rgba(255, 255, 255, 0.60);
  --on-surface-subtle:   rgba(255, 255, 255, 0.40);
  --on-surface-disabled: rgba(255, 255, 255, 0.25);

  /* Outlines */
  --outline:         rgba(255, 255, 255, 0.18);
  --outline-variant: rgba(255, 255, 255, 0.08);

  /* Status accents */
  --success:     #10b981;
  --success-dim: rgba(16, 185, 129, 0.15);
  --error:       #f43f5e;
  --error-dim:   rgba(244, 63, 94, 0.15);
  --info:        #3b82f6;
  --info-dim:    rgba(59, 130, 246, 0.15);
  --warning:     #f59e0b;
  --warning-dim: rgba(245, 158, 11, 0.15);

  /* Type scale — desktop */
  --type-display:  24px;
  --type-headline: 20px;
  --type-title:    14px;
  --type-body:     14px;
  --type-body-sm:  12px;
  --type-label:    12px;
  --type-label-sm: 11px;
  --type-caption:  10px;

  /* Shape */
  --radius-sm:   6px;
  --radius-md:   8px;
  --radius-lg:   12px;
  --radius-xl:   16px;
  --radius-2xl:  24px;
  --radius-full: 9999px;

  /* Blur */
  --blur-sm: 4px;
  --blur-md: 12px;
  --blur-lg: 24px;
  --blur-xl: 40px;
}

/* ---------- Mobile floor (≤640px) ---------- */
@media (max-width: 640px) {
  :root {
    --type-body-sm:  13px;
    --type-label:    13px;
    --type-label-sm: 13px;
    --type-caption:  12px;
  }
}

/* ---------- Light theme scaffold ---------- */
.light {
  --surface:                   rgba(255, 255, 255, 0.95);
  --surface-glass:             rgba(255, 255, 255, 0.60);
  --surface-dim:               rgba(255, 255, 255, 0.80);
  --surface-container:         rgba(0, 0, 0, 0.04);
  --surface-container-high:    rgba(0, 0, 0, 0.08);
  --surface-container-highest: rgba(0, 0, 0, 0.10);
  --surface-scrim:             rgba(0, 0, 0, 0.40);

  --on-surface:          rgba(0, 0, 0, 0.87);
  --on-surface-medium:   rgba(0, 0, 0, 0.72);
  --on-surface-variant:  rgba(0, 0, 0, 0.54);
  --on-surface-subtle:   rgba(0, 0, 0, 0.38);
  --on-surface-disabled: rgba(0, 0, 0, 0.26);

  --outline:         rgba(0, 0, 0, 0.15);
  --outline-variant: rgba(0, 0, 0, 0.08);
}

/* ---------- Accessible (high-contrast) mode ---------- */
.accessible {
  --on-surface:          rgba(255, 255, 255, 0.93);
  --on-surface-medium:   rgba(255, 255, 255, 0.85);
  --on-surface-variant:  rgba(255, 255, 255, 0.72);
  --on-surface-subtle:   rgba(255, 255, 255, 0.55);
  --on-surface-disabled: rgba(255, 255, 255, 0.35);
  --outline:             rgba(255, 255, 255, 0.25);
  --outline-variant:     rgba(255, 255, 255, 0.14);
  --surface-container-highest: rgba(255, 255, 255, 0.18);
}

.accessible.light {
  --on-surface:          rgba(0, 0, 0, 0.95);
  --on-surface-medium:   rgba(0, 0, 0, 0.82);
  --on-surface-variant:  rgba(0, 0, 0, 0.68);
  --on-surface-subtle:   rgba(0, 0, 0, 0.52);
  --on-surface-disabled: rgba(0, 0, 0, 0.40);
  --outline:             rgba(0, 0, 0, 0.30);
  --outline-variant:     rgba(0, 0, 0, 0.18);
  --surface-container-highest: rgba(0, 0, 0, 0.15);
}

/* ---------- OS-level accessibility ---------- */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

@media (prefers-contrast: more) {
  :root {
    --on-surface:          rgba(255, 255, 255, 1.0);
    --on-surface-medium:   rgba(255, 255, 255, 0.92);
    --on-surface-variant:  rgba(255, 255, 255, 0.85);
    --on-surface-subtle:   rgba(255, 255, 255, 0.75);
    --on-surface-disabled: rgba(255, 255, 255, 0.60);
    --outline:             rgba(255, 255, 255, 0.40);
    --outline-variant:     rgba(255, 255, 255, 0.25);
  }

  .light {
    --on-surface:          rgba(0, 0, 0, 1.0);
    --on-surface-medium:   rgba(0, 0, 0, 0.87);
    --on-surface-variant:  rgba(0, 0, 0, 0.75);
    --on-surface-subtle:   rgba(0, 0, 0, 0.60);
    --on-surface-disabled: rgba(0, 0, 0, 0.50);
    --outline:             rgba(0, 0, 0, 0.40);
    --outline-variant:     rgba(0, 0, 0, 0.20);
  }
}
